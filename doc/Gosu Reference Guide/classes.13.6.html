<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Inner Classes</title>
    <link rel="StyleSheet" href="css/classes.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>Gosu Reference Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="classes.13.1.html#2450606">Classes</a> : Inner Classes</span></div>
    <hr align="left" />
    <blockquote>
      <h3 class="H1_-_Heading_1"><a name="2450606">Inner Classes</a></h3>
      <div class="B_-_Body"><a name="2450607">You can define inner classes in Gosu, similar to inner classes in Java. They are useful for encapsulating code even further within the same file as related code. Use </a><span class="s_-_strong">named inner classes</span> if you want to be able to refer to the inner class from multiple related methods or multiple related classes. Use <span class="s_-_strong">anonymous inner classes</span> if you just need a simple subclass that you can define in-line within a class method.</div>
      <div class="B_-_Body"><a name="2450646">Inner classes optionally can include generics features (see </a><a href="javascript:WWHClickedPopup('gosu', 'generics.20.1.html#1455314', '');" title="Gosu Generics">“Gosu Generics”</a>).</div>
      <h4 class="H2_-_Heading_2"><a name="2450636">Named Inner Classes</a></h4>
      <div class="B_-_Body"><a name="2450637">You can define a named class within another Gosu class. Once defined, it can be used within the class within which it is defined, or from classes that derive from it. If using it from the current class, </a></div>
      <div class="B_-_Body"><a name="2450639">The following example defines a static </a><span class="e_-_emphasis">inner class</span> called <span class="cv_-_computer_voice">FrenchGreeting</span> within the <span class="cv_-_computer_voice">Greeting</span> class:</div>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450011">package example</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450012">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450013">class Greeting</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450014">{</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450015">  static class FrenchGreeting {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450016">     static public function sayWhat() : String {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450017">       return "bonjour"</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450018">     }</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450019">  }</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450020">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450021">  static public property get Hello() : String {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450022">    return FrenchGreeting.sayWhat()</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450023">  }</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="2450024">}</a></PRE>
      <div class="B_-_Body"><a name="2450028">You can test this in the Gosu Tester using the code:</a></div>
      <div class="CS_-_Code_Single_Line"><a name="2450029">print(example.Greeting.Hello)</a></div>
      <div class="B_-_Body"><a name="2450030">This prints:</a></div>
      <div class="CS_-_Code_Single_Line"><a name="2450031">bonjour</a></div>
      <div class="B_-_Body"><a name="2450044">Notice that this example never constructs a new instance of the </a><span class="cv_-_computer_voice">Greeting</span> class or the <span class="cv_-_computer_voice">FrenchGreeting</span> class using the <span class="cv_-_computer_voice">new</span> keyword. The inner class in this example has the <span class="cv_-_computer_voice">static</span> modifier. For more information the static modifier, see <a href="javascript:WWHClickedPopup('gosu', 'classes.13.5.html#2446412', '');" title="Modifiers">“Static Modifier”</a>.</div>
      <div class="B_-_Body"><a name="2450697">Similarly, classes that derive from the outer class can use the inner class </a><span class="cv_-_computer_voice">FrenchGreeting</span>. The following example subclasses the <span class="cv_-_computer_voice">Greeting</span> class:</div>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450706">package example</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450707">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450708">class OtherGreeting extends Greeting</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450709">{</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450710">  public function  greetme () {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450711">    var f = new Greeting.FrenchGreeting()</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450712">    print(f.sayWhat())</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450713">  }</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="2450714">}</a></PRE>
      <div class="B_-_Body"><a name="2450743">You can test this code using the following code in the Gosu Tester:</a></div>
      <PRE class="CF_-_Code_First_Line"><a name="2450752">var t = new example.OtherGreeting()</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="2450744">t.greetme()</a></PRE>
      <div class="B_-_Body"><a name="2450759">This prints:</a></div>
      <div class="CS_-_Code_Single_Line"><a name="2450745">bonjour</a></div>
      <h4 class="H2_-_Heading_2"><a name="2450064">Anonymous Inner Classes</a></h4>
      <div class="B_-_Body"><a name="2450068">You can define anonymous inner classes in Gosu from within a class method, similar to usage in Java. The syntax for creating an anonymous inner class is very different from a named inner class. Anonymous inner classes are similar in many ways to creating instances of a class with the </a><span class="cv_-_computer_voice">new</span> operator. However, you can extend a base class by following the class name with braces and then add additional variables or methods. If you do not have another useful base class, use <span class="cv_-_computer_voice">Object</span>.</div>
      <div class="B_-_Body"><a name="2450227">The following is a class that uses an anonymous inner class:</a></div>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450235">package example</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450236">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450237">class InnerTest {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450239">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450240">&nbsp;&nbsp;static public function runme() {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450241">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450242">&nbsp;&nbsp;&nbsp;&nbsp;// create instance of an anonymous inner class that derives from Object</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450243">&nbsp;&nbsp;&nbsp;&nbsp;var counter = new Object() {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450392">     </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450393">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// anonymous inner classes can have variables (public, private, and so on)</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450394">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;private var i = 0</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450389">     </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450248">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// anonymous inner classes can have constructors</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450249">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;construct() {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450250">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print("Value is " + i + " at creation!")</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450251">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450252">     </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450253">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// anonymous inner classes can have methods</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450254">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public function incrementMe () {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450255">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;i = i + 1</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450256">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print("Value is " + i)</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450257">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450258">&nbsp;&nbsp;&nbsp;&nbsp;}</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450259">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450260">&nbsp;&nbsp;&nbsp;&nbsp;// "counter" is a variable containing an instance of a </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450261">&nbsp;&nbsp;&nbsp;&nbsp;// class that has no name, but derives from Object and </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450262">&nbsp;&nbsp;&nbsp;&nbsp;// adds a private variable and a method</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450263">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450476">&nbsp;&nbsp;&nbsp;&nbsp;counter.incrementMe()</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450483">&nbsp;&nbsp;&nbsp;&nbsp;counter.incrementMe()</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450534">&nbsp;&nbsp;&nbsp;&nbsp;counter.incrementMe()</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450538">&nbsp;&nbsp;&nbsp;&nbsp;counter.incrementMe()</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450542">&nbsp;&nbsp;&nbsp;&nbsp;counter.incrementMe()</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450511">&nbsp;&nbsp;}</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="2450512">}</a></PRE>
      <div class="B_-_Body"><a name="2450292">You can use the following code in the Gosu Tester to test this class:</a></div>
      <div class="CS_-_Code_Single_Line"><a name="2450296">example.InnerTest.runme()</a></div>
      <div class="B_-_Body"><a name="2450316">This prints:</a></div>
      <PRE class="CF_-_Code_First_Line"><a name="2450325">Value is 0 at creation!</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450326">Value is 1</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450327">Value is 2</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450546">Value is 3</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450550">Value is 4</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="2450554">Value is 5</a></PRE>
      <h6 class="HS_-_Head_Sub"><a name="2450318">Example: Advanced Anonymous Inner Class</a></h6>
      <div class="B_-_Body"><a name="2450529">The following example shows how to use an anonymous inner class that derives from a more interesting object than </a><span class="cv_-_computer_voice">Object</span>. In this example, the constructor and another method are inherited by the new inner class.</div>
      <div class="B_-_Body"><a name="2450090">Suppose you define a base class for your inner class and call it </a><span class="cv_-_computer_voice">Vehicle</span>:</div>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450099">package example</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450100">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450101">class Vehicle</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450102">{</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450103">  construct()</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450104">  {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450105">     print("A vehicle was just constructed!")</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450106">  }</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450107">  </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450108">  function actionOne(s : String) {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450109">     print("actionOne was called with arg " + s)</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450110">  }</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="2452153">}</a></PRE>
      <div class="B_-_Body"><a name="2452154">You can create a different class that uses </a><span class="cv_-_computer_voice">Vehicle</span> and defines an anonymous inner class based on <span class="cv_-_computer_voice">Vehicle</span>:</div>
      <PRE class="CF_-_Code_First_Line"><a name="2452155">package example</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450121">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450122">class FancyVehicle</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450123">{</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450124">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450125">  public function testInner() {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450126">    </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450127">    // Create an inner anonymous class that extends Vehicle</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450128">    var test = new Vehicle() {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450129">        public function actionTwo(s : String) {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450130">          print("actionTwo was called with arg " + s)</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450131">        }</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450132">      }</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450133">      test.actionOne( "USA" )</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450134">      test.actionTwo( "ABCDEFG" )</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450135">    }  </a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="2452230">}</a></PRE>
      <div class="B_-_Body"><a name="2452231">Notice that the inner class that defines the </a><span class="cv_-_computer_voice">actionTwo</span> method uses the <span class="cv_-_computer_voice">new</span> operator and not the <span class="cv_-_computer_voice">class</span> operator. What it actually does, however, is define a new class with no name and then creates one instance of it.</div>
      <div class="B_-_Body"><a name="2450153">You can test the </a><span class="cv_-_computer_voice">FancyVehicle</span> class with the following code in Gosu Tester:</div>
      <PRE class="CF_-_Code_First_Line"><a name="2450156">var g = new example.FancyVehicle()</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="2450157">g.testInner()</a></PRE>
      <div class="B_-_Body"><a name="2450170">This prints:</a></div>
      <PRE class="CF_-_Code_First_Line"><a name="2450176">A vehicle was just constructed!</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2450177">actionOne was called with arg USA</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="2460581">actionTwo was called with arg ABCDEFG</a></PRE>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><a name="2464956">Gosu Block Shortcut for Anonymous Classes Implementing an Interface</a></h5>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="2478041">In certain cases, you can pass a block as a method argument instead of an instance of an anonymous class. If the method is part of an interface that contains exactly one method, you can pass a block instead of the anonymous class instance. This is especially helpful for APIs defined to take the type </a><span class="cv_-_computer_voice">BlockRunnable</span> or <span class="cv_-_computer_voice">Runnable</span>.</div>
      <div class="B_-_Body"><a name="2478045">For more information, see </a><a href="javascript:WWHClickedPopup('gosu', 'blocks.19.8.html#1454589', '');" title="Blocks as Shortcuts for Anonymous Classes">“Blocks as Shortcuts for Anonymous Classes”</a>. </div>
      <div class="B_-_Body"><a name="2464948">&nbsp;</a></div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>