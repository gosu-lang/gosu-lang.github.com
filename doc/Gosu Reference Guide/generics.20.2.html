<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Gosu Generics Overview</title>
    <link rel="StyleSheet" href="css/generics.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>Gosu Reference Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="generics.20.1.html#1456711">Gosu Generics</a> : Gosu Generics Overview</span></div>
    <hr align="left" />
    <blockquote>
      <h3 class="H1_-_Heading_1"><a name="1456711">Gosu Generics Overview</a></h3>
      <div class="B_-_Body"><a name="1456712">You probably use simple arrays sometimes to store multiple objects of the same type. For example, an array of five numbers, an array of 47 </a><span class="cv_-_computer_voice">String</span> objects, or an array of some other type of primitive or object. Similarly, <span class="e_-_emphasis">collections</span> (including all <span class="e_-_emphasis">lists</span>) provide another way of grouping items together, but with important differences between arrays and collections.</div>
      <div class="B_-_Body"><a name="1440494">Standard arrays contain items of the same type of object, and if one type extends another, you can make certain assumptions about the type of items in the array. For example, because </a><span class="cv_-_computer_voice">Integer</span> extends <span class="cv_-_computer_voice">Number</span>, it means that an array of <span class="cv_-_computer_voice">Integer</span> is also an array of <span class="cv_-_computer_voice">Number</span>. In other words, <span class="cv_-_computer_voice">Integer[]</span> is also an array of <span class="cv_-_computer_voice">Number[]</span>. Where a <span class="cv_-_computer_voice">Number[]</span> is required<span style="font-weight: bold">, </span>you are free to pass or assign an <span class="cv_-_computer_voice">Integer[]</span>. However, collections do not work that way. </div>
      <div class="B_-_Body"><a name="1446318">Standard collections can contain a variety of types of objects—they are </a><span class="e_-_emphasis">heterogeneous</span>. If you take an object out of a collection, typically you must cast it to a desired type or check its type before doing something useful with it. </div>
      <div class="B_-_Body"><a name="1456771">Without generics, in practice, people tend to design collection-related APIs to work with collections of </a><span class="cv_-_computer_voice">Object</span> instances. The <span class="cv_-_computer_voice">Object</span> class is the root class of all non-primitive objects in the Gosu language and also in the Java language.</div>
      <div class="B_-_Body"><a name="1456772">Unfortunately, if you use APIs that return collections of type </a><span class="cv_-_computer_voice">Object</span>, your code must cast (coerce) it to a more specific type to access properties and methods.</div>
      <div class="B_-_Body"><a name="1455740">Although casting one value to another type is useful, it is unsafe in some cases and prevents the compiler from knowing at compile-time whether it succeeds. For example, if the item you extract from the collection is a type that does not support casting, it fails at </a><span class="s_-_strong">run&nbsp;time</span>. For example, casting a <span class="cv_-_computer_voice">String</span> to an <span class="cv_-_computer_voice">Array</span>. This approach to coding is inconsistent with confirming type problems at <span class="s_-_strong">compile&nbsp;time</span>. Detecting problems at compile time is important for reliable mission-critical server applications.</div>
      <div class="B_-_Body"><a name="1465860">An alternative is to define different types of collections or lists supporting only homogenous sets of objects of a certain type, such as </a><span class="cv_-_computer_voice">StringList</span>, <span class="cv_-_computer_voice">IntegerList</span>, or <span class="cv_-_computer_voice">MyCustomClassList</span>. Defining homogenous sets of objects in this way provides compile-time certainty and dramatically reduces the chance of type safety issues. However, the downside is more complexity to make the API work with different types of lists. A Gosu class method that takes a <span class="cv_-_computer_voice">StringList</span> would need a separate method signature to take an <span class="cv_-_computer_voice">IntegerList</span>. This type of repetitive method signature declaration simply to achieve type safety is time consuming. Additionally, the method definitions might be incomplete. If you provide such an API, it cannot predict a list of types you do not know about that a consumer of your API wants to use. If there were a way to generalize the function so that it would work with all lists, you could provide a generalized—or generic—function to perform the task.</div>
      <div class="B_-_Body"><a name="1455842">Suppose that you could define a collection with an explicit type of each item. By using angle-bracket notation after the collection class, such as </a><span class="cv_-_computer_voice">List&lt;Number&gt;</span>, you can specify what types of things the container contains. If you read aloud, you can translate the bracket notation in English as the word “of”. Thus the syntax <span class="cv_-_computer_voice">List&lt;Number&gt;</span> means <span class="e_-_emphasis">a list of numbers</span>. Even better, suppose there were a way to define function parameters to work with <span class="s_-_strong">any&nbsp;type</span>. What if it always returned an object of the same type, or an array of that type, and had such relationships enforced at compile time? This is what Gosu generics do for you. </div>
      <div class="B_-_Body"><a name="1455867">Generics provide a way to specify the </a><span class="s_-_strong">type of objects in a collection</span> with specificity as you use an API, but with generality as you design an API. At compile time, the Gosu compiler confirms that everything has a valid type for the API. Additionally, Gosu <span class="s_-_strong">infers&nbsp;types</span> of arguments and return values in many cases so you do not have to do much coercing of values from a root class. For instance, you do not generally need to coerce a variable of type <span class="cv_-_computer_voice">Object</span> to a more useful specific type. Suppose you take values out of a collection of objects of type <span class="cv_-_computer_voice">MyClass</span>. A variable that contains an extracted first item in the collection always has type <span class="cv_-_computer_voice">MyClass</span>, not <span class="cv_-_computer_voice">Object</span>. With generics you do not need to coerce the value to type <span class="cv_-_computer_voice">MyClass</span> before calling methods specific to the <span class="cv_-_computer_voice">MyClass</span> class.</div>
      <div class="B_-_Body"><a name="1452790">Generics provide the best of </a><span class="e_-_emphasis">generalizability</span> as you design APIs and <span class="e_-_emphasis">specificity</span> as you use APIs. Using generics, your collections-related code can be easy to understand, concise, and typesafe. </div>
      <div class="B_-_Body"><a name="1455634">Gosu generics are compatible with generics implemented in Java version 1.5. You can use Java utility classes designed for Java 1.5 generics and even extended them in Gosu. There is one exception for Java-Gosu compatibility, which is that Gosu does not support the syntax </a><span class="cv_-_computer_voice">&lt;?&nbsp;super&nbsp;</span><span class="ps_-_parameter_in_code_snippets">TYPE</span><span class="cv_-_computer_voice">&gt;</span>. For more information about other similar features, see <a href="javascript:WWHClickedPopup('gosu', 'generics.20.4.html#1452560', '');" title="Other Unbounded Generics Wildcards">“Bounded Wildcards”</a>.</div>
      <div class="B_-_Body"><a name="1455627">For extended discussions of generics as implemented in Java, see the book “Java Generics and Collections” by Maurice Naftalin and Philip Wadler, or the following on-line tutorial:</a></div>
      <div class="CS_-_Code_Single_Line"><a name="1465519">http://java.sun.com/j2se/1.5/pdf/generics-tutorial.pdf</a></div>
      <h6 class="HS_-_Head_Sub"><a name="1465527">Gosu Generics are Reified</a></h6>
      <div class="B_-_Body"><a name="1465573">One important difference between Gosu and Java is that Gosu generics are </a><span class="e_-_emphasis">reified</span>—unlike Java, at run time, Gosu retains the actual specific type. For example, at run time you could check whether an object was an instance of <span class="cv_-_computer_voice">PetGroup&lt;Cat&gt;</span> or <span class="cv_-_computer_voice">PetGroup&lt;Dog&gt;</span> including the information in the angle brackets. </div>
      <div class="B_-_Body"><a name="1465586">In contrast, Java generics lose this generic parameter information at run time. This is called </a><span class="e_-_emphasis">type erasure</span>. Java introduced generics in this way to maximize compatibility with older Java code that did not support generics.</div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>