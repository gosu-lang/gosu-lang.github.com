<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Generics in Gosu</title>
    <link rel="StyleSheet" href="css/intro.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>Gosu Reference Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="intro.03.01.html#1464793">Gosu Introduction</a> : <a class="WebWorks_Breadcrumb_Link" href="intro.03.04.html#1464793">More About the Gosu Type System</a> : Generics in Gosu</span></div>
    <hr align="left" />
    <blockquote>
      <h4 class="H2B_-_Heading_2_Break"><a name="1464793">Generics in Gosu</a></h4>
      <div class="B_-_Body"><a name="1464794">Generics are a way of abstracting behavior of a type to support working with multiple types of objects. Generics are particularly useful for implementing collections (lists, maps) in a type-safe way. At compile time, each use of the collection can specify the specific type of its items. For example, instead of just referring to a list of objects, you can refer to a list of </a><span class="cv_-_computer_voice">Address</span> objects or a list of <span class="cv_-_computer_voice">Vehicle</span> objects. To specify a type, add one or more parameters types inside angle brackets (<span class="cv_-_computer_voice">&lt;</span> and <span class="cv_-_computer_voice">&gt;</span>). For example:</div>
      <PRE class="CM_-_Code_Middle_Line"><a name="1457654">uses java.util.*</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1457690">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1457676">var mylist = new ArrayList&lt;Date&gt;() &nbsp;&nbsp;&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1457712">var mymap = new Map&lt;String, Date&gt;()&nbsp;&nbsp;&nbsp;// a map that maps String to Date</a></PRE>
      <div class="B_-_Body"><a name="1457809">This is called </a><span class="e_-_emphasis">parameterizing a generic type</span>. Read <span class="cv_-_computer_voice">ArrayList&lt;Date&gt;</span> in English as “an array list of date objects”<span style="font-family: &quot;Lucida Sans Typewriter&quot;; font-size: 7.0pt">.</span></div>
      <div class="B_-_Body"><a name="1457821">Read </a><span class="cv_-_computer_voice">Map&lt;String, Date&gt;</span> as “a map that maps <span class="cv_-_computer_voice">String</span> to <span class="cv_-_computer_voice">Date</span>”<span style="font-family: &quot;Lucida Sans Typewriter&quot;; font-size: 7.0pt">.</span></div>
      <div class="B_-_Body"><a name="1457747">The Gosu generics implementation is compatible with the Java 1.5 generics implementation, and adds additional improvements:</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="1469148">Gosu type inference greatly improves readability. You can omit unnecessary type declarations, which is especially important for generics because the syntax tends to be verbose.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="1469189">Gosu generics support array-style variance of different generic types. In Java, this is a compilation error, even though it is natural to assume it works. </a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LP_-_List_Para"><a name="1469263">In Java, this is a compilation error:</a></div>
      <PRE class="CM_-_Code_Middle_Line"><a name="1469212">ArrayList&lt;Object&gt; mylist;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1469213">mylist = new ArrayList&lt;String&gt;()</a></PRE>
      <div class="LP_-_List_Para"><a name="1469234">The analogous Gosu code works:</a></div>
      <PRE class="CM_-_Code_Middle_Line"><a name="1469235">var mylist : ArrayList&lt;Object&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1469236">mylist = new ArrayList&lt;String&gt;()</a></PRE>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="1469150">Gosu types preserve generic type information at run time. This Gosu feature is called </a><span class="e_-_emphasis">reified generics</span>. This means that in complex cases you could check the exact type of an object at run time, including any parameterization. In contrast, Java discards this information completely after compilation, so it is unavailable at run time.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="N_-_Note">
        <span class="n_-_note">Note: </span><a name="1441049">Even in Gosu, parameterization information is unavailable for all native Java types because Java does not preserve this information beyond compile time. For example the run time type of </a><span class="cv_-_computer_voice">java.util.List&lt;Address&gt;</span> in Gosu returns the unparameterized type <span class="cv_-_computer_voice">java.util.List</span>. </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="1441308">Gosu includes shortcut initialization syntax for common collection types so you do not need to actually see the generics syntax, which tends to be verbose. For example, consider the following Gosu:</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="CS_-_Code_Single_Line"><a name="1441320">var strlist = {"a", "list", "of", "Strings"}</a></div>
      <div class="LP_-_List_Para"><a name="1455375">Despite appearances, the </a><span class="cv_-_computer_voice">strlist</span> variable is statically typed. Gosu detects the types of objects you are initializing with and determines using type inference that <span class="cv_-_computer_voice">strlist</span> has the type <span class="cv_-_computer_voice">java.util.ArrayList&lt;java.util.String&gt;</span>. This is generics syntax for the meaning “a list of <span class="cv_-_computer_voice">String</span> objects”.</div>
      <div class="B_-_Body"><a name="1436837">For more information, see </a><a href="javascript:WWHClickedPopup('gosu', 'generics.20.1.html#1455314', '');" title="Gosu Generics">“Gosu Generics”</a>.</div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>